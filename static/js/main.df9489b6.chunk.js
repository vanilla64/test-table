(this["webpackJsonptest-task-aero-trade"]=this["webpackJsonptest-task-aero-trade"]||[]).push([[0],{19:function(e,t,a){},20:function(e,t,a){},22:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var i=a(2),c=a.n(i),n=a(11),s=a.n(n),l=(a(19),a(8)),r=a(3),d=(a(20),a(0));var o=function(e){var t=e.user,a=e.index,i=e.type,c=e.columnsRender,n=t.id,s=t.firstName,l=t.lastName,r=t.email,o=t.phone,j=t.gender,b=t.ipAddress,m=t.dollars,h=t.carModel,u=t.carYear,O=t.carVin,p={tableRow:a%2===0?"table__row table__row_type_odd":"table__row table__row_type_even"};return Object(d.jsx)("tr",{className:p.tableRow,children:function(e){switch(e){case"fixed":return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("td",{children:a+1}),Object(d.jsx)("td",{children:n}),Object(d.jsx)("td",{children:s}),Object(d.jsx)("td",{children:l})]});case"scroll":return Object(d.jsxs)(d.Fragment,{children:[c.email.visible&&Object(d.jsx)("td",{className:"table__cell_type_email",children:r}),c.phone.visible&&Object(d.jsx)("td",{className:"table__cell_type_phone",children:o}),c.gender.visible&&Object(d.jsx)("td",{className:"table__cell_type_gender",children:j}),c.ipAddress.visible&&Object(d.jsx)("td",{className:"table__cell_type_ip",children:b}),c.price.visible&&Object(d.jsx)("td",{className:"table__cell_type_price",children:m}),c.carImage.visible&&Object(d.jsx)("td",{className:"table__cell_type_img",children:Object(d.jsx)("img",{className:"table__img",src:c.carImage.src[Math.floor(5*Math.random())],alt:"Car"})}),c.carModel.visible&&Object(d.jsx)("td",{children:h}),c.carYear.visible&&Object(d.jsx)("td",{children:u}),c.carVin.visible&&Object(d.jsx)("td",{children:O})]})}}(i)})},j=a(4);a(22);var b=function(e){var t=e.tableHeaders,a=e.columnsRender,c=e.setColumnsRender,n=Object(i.useState)(a),s=Object(r.a)(n,2),l=s[0],o=s[1];return Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(l)},onChange:function(e){var t=e.target,a=t.name,i=t.checked;o((function(e){return Object(j.a)(Object(j.a)({},e),e[a].visible=i)}))},className:"row",children:[Object(d.jsx)("button",{className:"dropdown-trigger col s4 btn deep-purple lighten-2","data-target":"dropdown1",children:"Select columns"}),Object(d.jsx)("button",{type:"submit",className:"col s4 btn green lighten-2",children:"Submit"}),Object(d.jsx)("ul",{id:"dropdown1",className:"dropdown-content",children:t.map((function(e,i){return Object(d.jsx)("li",{className:"dropdown-content__list-item",children:Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{type:"checkbox",name:t[i],className:"filled-in",defaultChecked:!0}),Object(d.jsx)("span",{className:"dropdown-content__text",children:a[e].title})]})},i)}))})]})};var m=function(){return Object(d.jsx)("div",{className:"preloader-wrapper active",children:Object(d.jsxs)("div",{className:"spinner-layer spinner-red-only",children:[Object(d.jsx)("div",{className:"circle-clipper left",children:Object(d.jsx)("div",{className:"circle"})}),Object(d.jsx)("div",{className:"gap-patch",children:Object(d.jsx)("div",{className:"circle"})}),Object(d.jsx)("div",{className:"circle-clipper right",children:Object(d.jsx)("div",{className:"circle"})})]})})};var h=function(e){var t,a,c=e.data,n=e.usersToRender,s=e.setUsersToRender,l=e.columnsRender,j=e.setColumnsRender,h=e.isTableLoading,u=e.setIsTableLoading,O=Object(i.useState)(!1),p=Object(r.a)(O,2),f=p[0],x=p[1],v=Object.keys(l),g=n.map((function(e){return e.id}));return console.log(g),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(b,{columnsRender:l,setColumnsRender:j,tableHeaders:v}),Object(d.jsxs)("div",{onScroll:function(e){var t=e.target,a=e.target.querySelector("table");if(!(c.length<=n.length)&&!h&&t.scrollTop+t.offsetHeight>=a.offsetHeight){var i=c.slice(n.length,n.length+50),l=n.concat(i);return u(!0),void setTimeout((function(){s(l),u(!1)}),1500)}},className:"row table-container",children:[Object(d.jsxs)("table",{className:"striped table_type_fixed",children:[Object(d.jsx)("thead",{className:"table__header",children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"\u2116"}),Object(d.jsxs)("th",{onClick:function(){var e;if(f)return e=n.map((function(e){return e})).reverse(),s(e),void x(!1);e=n.sort((function(e,t){return e.id>t.id?1:e.id<t.id?-1:0})).map((function(e){return e})),s(e),x(!0)},className:"table__cell_type_id tooltipped","data-position":"bottom","data-tooltip":"Total: ".concat((t=n,a="id",t.map((function(e){return e[a]}))).length),children:["ID ",Object(d.jsx)("i",{className:"material-icons table__icon",children:f?"arrow_drop_up":"arrow_drop_down"})]}),Object(d.jsx)("th",{children:"First Name"}),Object(d.jsx)("th",{children:"Last Name"})]})}),Object(d.jsx)("tbody",{children:n.map((function(e,t){return Object(d.jsx)(o,{type:"fixed",user:e,index:t},t)}))})]}),Object(d.jsxs)("table",{className:"striped table_type_scroll",children:[Object(d.jsx)("thead",{className:"table__header",children:Object(d.jsxs)("tr",{children:[l.email.visible&&Object(d.jsx)("th",{children:l.email.title}),l.phone.visible&&Object(d.jsx)("th",{children:l.phone.title}),l.gender.visible&&Object(d.jsx)("th",{children:l.gender.title}),l.ipAddress.visible&&Object(d.jsx)("th",{children:l.ipAddress.title}),l.price.visible&&Object(d.jsx)("th",{children:l.price.title}),l.carImage.visible&&Object(d.jsx)("th",{children:l.carImage.title}),l.carModel.visible&&Object(d.jsx)("th",{children:l.carModel.title}),l.carYear.visible&&Object(d.jsx)("th",{children:l.carYear.title}),l.carVin.visible&&Object(d.jsx)("th",{children:l.carVin.title})]})}),Object(d.jsx)("tbody",{children:n.map((function(e,t){return Object(d.jsx)(o,{type:"scroll",columnsRender:l,user:e,index:t},t)}))})]}),h&&Object(d.jsx)("div",{className:"table-container__preloader",children:Object(d.jsx)(m,{})})]}),c.length<=n.length&&Object(d.jsx)("h5",{children:"No data anymore..."})]})},u=a(12),O={email:{visible:!0,title:"Email"},phone:{visible:!0,title:"Phone"},gender:{visible:!0,title:"Gender"},ipAddress:{visible:!0,title:"IP Address"},price:{visible:!0,title:"Price"},carImage:{visible:!0,title:"Car Image",src:[a.p+"static/media/s13-pic.6c852926.jpg",a.p+"static/media/car-pic.d18fd59d.jpg",a.p+"static/media/s15.4e26aa40.jpg",a.p+"static/media/r34.29eff04f.gif",a.p+"static/media/180sx.6972186e.jpg"]},carModel:{visible:!0,title:"Car Model"},carYear:{visible:!0,title:"Car Year"},carVin:{visible:!0,title:"Car VIN"}},p=new function e(t){var a=this;Object(u.a)(this,e),this._initialRequest=function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))},this.getData=function(){return fetch(a._url,{method:"GET"}).then((function(e){return a._initialRequest(e)}))},this._url=t}("https://my.api.mockaroo.com/test.json?key=94d3b3a0"),f=a(6),x=a(14);var v=function(e){var t=Object(i.useState)({id:"",firstName:"",lastName:"",email:"",phone:""}),a=Object(r.a)(t,2),c=a[0],n=a[1],s=Object(i.useState)(!1),l=Object(r.a)(s,2),o=l[0],b=l[1],m=""===c.id||""===c.firstName||""===c.lastName||""===c.email||""===c.phone,h=function(e){var t=e.target,a=t.name,i=t.value;n((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(f.a)({},a,i))}))};return e.isVisible&&Object(d.jsx)("section",{children:Object(d.jsxs)("form",{onChange:h,onSubmit:function(t){t.preventDefault(),e.onSubmit(c),n({id:"",firstName:"",lastName:"",email:"",phone:""})},onReset:function(){n({id:"",firstName:"",lastName:"",email:"",phone:""})},className:"row",children:[Object(d.jsx)("h4",{children:"Add user"}),Object(d.jsxs)("div",{className:"input-field col s2",children:[Object(d.jsx)("input",{onChange:h,value:c.id,name:"id",id:"id",type:"number",className:"validate",required:!0}),Object(d.jsx)("label",{htmlFor:"id",children:"Id"})]}),Object(d.jsxs)("div",{className:"input-field col s2",children:[Object(d.jsx)("input",{onChange:h,value:c.firstName,name:"firstName",id:"first-name",type:"text",className:"validate",required:!0}),Object(d.jsx)("label",{htmlFor:"first-name",children:"First Name"})]}),Object(d.jsxs)("div",{className:"input-field col s2",children:[Object(d.jsx)("input",{onChange:h,value:c.lastName,name:"lastName",id:"last-name",type:"text",className:"validate",required:!0}),Object(d.jsx)("label",{htmlFor:"last-name",children:"Last Name"})]}),Object(d.jsxs)("div",{className:"input-field col s3",children:[Object(d.jsx)("input",{onChange:h,value:c.email,name:"email",id:"email",type:"email",className:"validate",required:!0}),Object(d.jsx)("label",{htmlFor:"email",children:"Email"})]}),Object(d.jsxs)("div",{className:"input-field col s3",children:[Object(d.jsx)(x.a,{id:"phone",onFocus:function(){b(!0)},onBlur:function(e){0===e.target.value.length&&b(!1)},mask:"(000)000-0000",radix:".",value:c.phone,unmask:!1,onAccept:function(e){n((function(t){return Object(j.a)(Object(j.a)({},t),{},{phone:e})}))}}),Object(d.jsx)("label",{className:o?"active":"",htmlFor:"phone",children:"Phone"})]}),Object(d.jsx)("button",{type:"submit",disabled:m,className:"col s4 waves-effect waves-light btn green lighten-2",children:"Add"}),Object(d.jsx)("button",{type:"reset",className:"col s4 waves-effect waves-light btn black-text transparent",children:"Reset"})]})})},g=a(5),N=a.n(g);var _=function(e){var t=e.data,a=e.setDataForRender,c=Object(i.useState)({}),n=Object(r.a)(c,2),s=n[0],o=n[1],b={submitButton:t.length<50?"col s1 waves-effect waves-light btn green lighten-2":"col s2 waves-effect waves-light btn green lighten-2",resetButton:"col s2 waves-effect waves-light btn black-text transparent",inputId:t.length<50?"input-field col s1":"input-field col s2"},m=function(e){var t=e.target,a=t.name,i=t.value;o((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(f.a)({},a,i))}))};return Object(d.jsxs)("form",{onChange:m,onSubmit:function(e){e.preventDefault();var i={};Object.keys(s).forEach((function(e){""!==s[e]&&(i[e]=s[e])}));var c=Object.keys(i),n=[];if(c.forEach((function(e){t.filter((function(t){return t[e].toString().toLowerCase().includes(s[e].toLowerCase())})).forEach((function(e){return n.push(e)}))})),0===n.length)return N.a.toast({html:"User not found"});var r=n.reduce((function(e,t){return e.includes(t)?e:[].concat(Object(l.a)(e),[t])}),[]);a(r)},onReset:function(){a(t.slice(0,50)),o({})},className:"row",children:[Object(d.jsx)("h4",{children:"Filter"}),Object(d.jsxs)("div",{className:b.inputId,children:[Object(d.jsx)("input",{onChange:m,value:s.id?s.id:"",name:"id",id:"filterId",type:"number",className:"validate"}),Object(d.jsx)("label",{htmlFor:"filterId",children:"Id"})]}),Object(d.jsxs)("div",{className:"input-field col s2",children:[Object(d.jsx)("input",{onChange:m,value:s.firstName?s.firstName:"",name:"firstName",id:"filterFirst-name",type:"text",className:"validate"}),Object(d.jsx)("label",{htmlFor:"filterFirst-name",children:"First Name"})]}),Object(d.jsxs)("div",{className:"input-field col s2",children:[Object(d.jsx)("input",{onChange:m,value:s.lastName?s.lastName:"",name:"lastName",id:"filterLast-name",type:"text",className:"validate"}),Object(d.jsx)("label",{htmlFor:"filterLast-name",children:"Last Name"})]}),Object(d.jsxs)("div",{className:"input-field col s2",children:[Object(d.jsx)("input",{onChange:m,value:s.email?s.email:"",name:"email",id:"filterEmail",type:"email",className:"validate"}),Object(d.jsx)("label",{htmlFor:"filterEmail",children:"Email"})]}),Object(d.jsxs)("div",{className:"input-field col s2",children:[Object(d.jsx)("input",{onChange:m,value:s.phone?s.phone:"",name:"phone",id:"filterPhone",type:"tel",className:"validate"}),Object(d.jsx)("label",{htmlFor:"filterPhone",children:"Phone"})]}),Object(d.jsx)("button",{type:"submit",className:b.submitButton,children:"Find"}),t.length>=50?Object(d.jsx)(d.Fragment,{}):Object(d.jsx)("button",{type:"reset",className:b.resetButton,children:"Show table"})]})},w=a(13),y=a.n(w);var C=function(){var e=Object(i.useState)([]),t=Object(r.a)(e,2),a=t[0],c=t[1],n=Object(i.useState)([]),s=Object(r.a)(n,2),o=s[0],j=s[1],b=Object(i.useState)(!1),u=Object(r.a)(b,2),f=u[0],x=u[1],g=Object(i.useState)(!1),w=Object(r.a)(g,2),C=w[0],F=w[1],S=Object(i.useState)(!1),R=Object(r.a)(S,2),k=R[0],I=R[1],T=Object(i.useState)(O),A=Object(r.a)(T,2),L=A[0],q=A[1],D=document.querySelectorAll(".dropdown-trigger");N.a.Dropdown.init(D,{closeOnClick:!1,constrainWidth:!1});var E=document.querySelectorAll(".tooltipped");return N.a.Tooltip.init(E),Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{children:"Test task for \u0410\u044d\u0440\u043e-\u0422\u0440\u0435\u0439\u0434"}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("button",{onClick:function(){c([]),j([]),x(!0),p.getData().then((function(e){c(e),j(e.slice(0,50))})).then((function(){var e=document.querySelector(".table_type_scroll");y()(e,{animation:1}).on("drag",(function(){window.getSelection?window.getSelection().removeAllRanges():document.selection.empty()}))})).finally((function(){return x(!1)})).catch((function(e){return N.a.toast({html:e.message})}))},className:"col s6 waves-effect waves-light btn pink lighten-2",children:"Get data"}),Object(d.jsx)("button",{onClick:function(){I(!k)},className:"col s6 waves-effect waves-light btn blue lighten-2",children:k?"Close form":"Add user"})]}),Object(d.jsx)(v,{isVisible:k,onSubmit:function(e){c([e].concat(Object(l.a)(a))),j([e].concat(Object(l.a)(a))),N.a.toast({html:"User added!"})}}),f&&Object(d.jsx)(m,{}),a.length>0&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(_,{setDataForRender:j,data:a}),Object(d.jsx)(h,{columnsRender:L,setColumnsRender:q,setUsersToRender:j,usersToRender:o,data:a,isTableLoading:C,setIsTableLoading:F})]})]})})},F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,28)).then((function(t){var a=t.getCLS,i=t.getFID,c=t.getFCP,n=t.getLCP,s=t.getTTFB;a(e),i(e),c(e),n(e),s(e)}))};a(26);s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(C,{})}),document.getElementById("root")),F()}},[[27,1,2]]]);
//# sourceMappingURL=main.df9489b6.chunk.js.map