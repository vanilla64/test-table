(this["webpackJsonptest-task-aero-trade"]=this["webpackJsonptest-task-aero-trade"]||[]).push([[0],{18:function(e,t,c){},19:function(e,t,c){},21:function(e,t,c){},22:function(e,t,c){},27:function(e,t,c){"use strict";c.r(t);var s=c(2),a=c.n(s),i=c(11),n=c.n(i),l=(c(18),c(8)),r=c(3),d=(c(19),c(0));var o=function(e){var t=e.user,c=e.index,s=e.type,a=e.columnsRender,i=t.id,n=t.firstName,l=t.lastName,r=t.email,o=t.phone,j=t.gender,b=t.ipAddress,h=t.dollars,u=t.carModel,m=t.carYear,O=t.carVin,p={tableRow:c%2===0?"table__row table__row_type_odd":"table__row table__row_type_even"};return Object(d.jsx)("tr",{className:p.tableRow,children:function(e){switch(e){case"fixed":return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("td",{children:c+1}),Object(d.jsx)("td",{children:i}),Object(d.jsx)("td",{children:n}),Object(d.jsx)("td",{children:l})]});case"scroll":return Object(d.jsxs)(d.Fragment,{children:[a.email.visible&&Object(d.jsx)("td",{className:"table__cell_type_email",children:r}),a.phone.visible&&Object(d.jsx)("td",{className:"table__cell_type_phone",children:o}),a.gender.visible&&Object(d.jsx)("td",{className:"table__cell_type_gender",children:j}),a.ipAddress.visible&&Object(d.jsx)("td",{className:"table__cell_type_ip",children:b}),a.price.visible&&Object(d.jsx)("td",{className:"table__cell_type_price",children:h}),a.carImage.visible&&Object(d.jsx)("td",{className:"table__cell_type_img",children:Object(d.jsx)("img",{className:"table__img",src:a.carImage.src[Math.floor(5*Math.random())],alt:"Car"})}),a.carModel.visible&&Object(d.jsx)("td",{children:u}),a.carYear.visible&&Object(d.jsx)("td",{children:m}),a.carVin.visible&&Object(d.jsx)("td",{children:O})]})}}(s)})},j=c(4);c(21);var b=function(e){e.setValues;var t=e.tableHeaders,c=e.columnsRender,a=e.setColumnsRender,i=Object(s.useState)(c),n=Object(r.a)(i,2),l=n[0],o=n[1];return Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(l)},onChange:function(e){var t=e.target,c=t.name,s=t.checked;o((function(e){return Object(j.a)(Object(j.a)({},e),e[c].visible=s)}))},className:"row",children:[Object(d.jsx)("button",{className:"dropdown-trigger col s4 btn deep-purple lighten-2","data-target":"dropdown1",children:"Select columns"}),Object(d.jsx)("button",{type:"submit",className:"col s4 btn green lighten-2",children:"Submit"}),Object(d.jsx)("ul",{id:"dropdown1",className:"dropdown-content",children:t.map((function(e,s){return Object(d.jsx)("li",{className:"dropdown-content__list-item",children:Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{type:"checkbox",name:t[s],className:"filled-in",defaultChecked:!0}),Object(d.jsx)("span",{className:"dropdown-content__text",children:c[e].title})]})},s)}))})]})};var h=function(e){var t=e.usersToRender,c=e.setUsersToRender,a=e.handleRowClick,i=e.columnsRender,n=e.setColumnsRender,l=Object(s.useState)(!1),j=Object(r.a)(l,2),h=j[0],u=j[1],m=Object(s.useState)({}),O=Object(r.a)(m,2),p=O[0],x=O[1],f=Object.keys(i);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(b,{setValues:x,columnsRender:i,setColumnsRender:n,tableHeaders:f,values:p}),Object(d.jsxs)("div",{className:"row table-container",children:[Object(d.jsxs)("table",{className:"striped table_type_fixed",children:[Object(d.jsx)("thead",{className:"table__header",children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"\u2116"}),Object(d.jsxs)("th",{onClick:function(){var e;if(h)return e=t.map((function(e){return e})).reverse(),c(e),void u(!1);e=t.sort((function(e,t){return e.id>t.id?1:e.id<t.id?-1:0})).map((function(e){return e})),c(e),u(!0)},className:"table__cell_type_id",children:["ID ",Object(d.jsx)("i",{className:"material-icons table__icon",children:h?"arrow_drop_up":"arrow_drop_down"})]}),Object(d.jsx)("th",{children:"First Name"}),Object(d.jsx)("th",{children:"Last Name"})]})}),Object(d.jsx)("tbody",{children:t.map((function(e,t){return Object(d.jsx)(o,{type:"fixed",user:e,index:t,handleRowClick:a},t)}))})]}),Object(d.jsxs)("table",{className:"striped table_type_scroll",children:[Object(d.jsx)("thead",{className:"table__header",children:Object(d.jsxs)("tr",{children:[i.email.visible&&Object(d.jsxs)("th",{children:[Object(d.jsx)("i",{className:"material-icons table__icon",children:"keyboard_arrow_left"}),i.email.title,Object(d.jsx)("i",{onClick:function(e){Array.from(document.querySelectorAll(".table_type_scroll th"))},className:"material-icons table__icon",children:"keyboard_arrow_right"})]}),i.phone.visible&&Object(d.jsx)("th",{children:i.phone.title}),i.gender.visible&&Object(d.jsx)("th",{children:i.gender.title}),i.ipAddress.visible&&Object(d.jsx)("th",{children:i.ipAddress.title}),i.price.visible&&Object(d.jsx)("th",{children:i.price.title}),i.carImage.visible&&Object(d.jsx)("th",{children:i.carImage.title}),i.carModel.visible&&Object(d.jsx)("th",{children:i.carModel.title}),i.carYear.visible&&Object(d.jsx)("th",{children:i.carYear.title}),i.carVin.visible&&Object(d.jsx)("th",{children:i.carVin.title})]})}),Object(d.jsx)("tbody",{children:t.map((function(e,t){return Object(d.jsx)(o,{type:"scroll",columnsRender:i,user:e,index:t,handleRowClick:a},t)}))})]})]})]})},u=c(12),m={email:{visible:!0,title:"Email"},phone:{visible:!0,title:"Phone"},gender:{visible:!0,title:"Gender"},ipAddress:{visible:!0,title:"IP Address"},price:{visible:!0,title:"Price"},carImage:{visible:!0,title:"Car Image",src:[c.p+"static/media/s13-pic.6c852926.jpg",c.p+"static/media/car-pic.d18fd59d.jpg",c.p+"static/media/s15.4e26aa40.jpg",c.p+"static/media/r34.29eff04f.gif",c.p+"static/media/180sx.6972186e.jpg"]},carModel:{visible:!0,title:"Car Model"},carYear:{visible:!0,title:"Car Year"},carVin:{visible:!0,title:"Car VIN"}},O=new function e(t){var c=this;Object(u.a)(this,e),this._initialRequest=function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))},this.getMinData=function(){return fetch(c._url,{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}).then((function(e){return c._initialRequest(e)}))},this.getMaxData=function(){return fetch(c._url,{method:"GET"}).then((function(e){return c._initialRequest(e)}))},this.getData=function(){return fetch(c._url,{method:"GET"}).then((function(e){return c._initialRequest(e)}))},this._url=t}("https://my.api.mockaroo.com/test.json?key=94d3b3a0");var p=function(){return Object(d.jsx)("div",{className:"preloader-wrapper active",children:Object(d.jsxs)("div",{className:"spinner-layer spinner-red-only",children:[Object(d.jsx)("div",{className:"circle-clipper left",children:Object(d.jsx)("div",{className:"circle"})}),Object(d.jsx)("div",{className:"gap-patch",children:Object(d.jsx)("div",{className:"circle"})}),Object(d.jsx)("div",{className:"circle-clipper right",children:Object(d.jsx)("div",{className:"circle"})})]})})};c(22);var x=function(e){var t=e.user,c=t.address,s=t.description,a=t.firstName,i=t.lastName,n=c.city,l=c.state,r=c.streetAddress,o=c.zip,j=e.onClose;return Object(d.jsxs)("section",{className:"user-info row z-depth-4",children:[Object(d.jsxs)("div",{className:"col s10",children:[Object(d.jsx)("h4",{children:"User info"}),Object(d.jsxs)("p",{children:["\u0412\u044b\u0431\u0440\u0430\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: ",Object(d.jsx)("b",{children:"".concat(a," ").concat(i)})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("p",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"}),Object(d.jsx)("textarea",{className:"col s8",value:s,readOnly:!0})]}),Object(d.jsxs)("p",{children:["\u0410\u0434\u0440\u0435\u0441 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f: ",Object(d.jsx)("b",{children:r})]}),Object(d.jsxs)("p",{children:["\u0413\u043e\u0440\u043e\u0434: ",Object(d.jsx)("b",{children:n})]}),Object(d.jsxs)("p",{children:["\u041f\u0440\u043e\u0432\u0438\u043d\u0446\u0438\u044f/\u0448\u0442\u0430\u0442: ",Object(d.jsx)("b",{children:l})]}),Object(d.jsxs)("p",{children:["\u0418\u043d\u0434\u0435\u043a\u0441: ",Object(d.jsx)("b",{children:o})]})]}),Object(d.jsx)("button",{onClick:function(){j(!1)},className:"user-info__close-btn col s2 waves-effect waves-light btn blue lighten-2",children:"Close"})]})},f=c(5),v=c(13);var N=function(e){var t=Object(s.useState)({id:"",firstName:"",lastName:"",email:"",phone:""}),c=Object(r.a)(t,2),a=c[0],i=c[1],n=Object(s.useState)(!1),l=Object(r.a)(n,2),o=l[0],b=l[1],h=""===a.id||""===a.firstName||""===a.lastName||""===a.email||""===a.phone,u=function(e){var t=e.target,c=t.name,s=t.value;i((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(f.a)({},c,s))}))};return e.isVisible&&Object(d.jsx)("section",{children:Object(d.jsxs)("form",{onChange:u,onSubmit:function(t){t.preventDefault(),e.onSubmit(a),i({id:"",firstName:"",lastName:"",email:"",phone:""})},onReset:function(){i({id:"",firstName:"",lastName:"",email:"",phone:""})},className:"row",children:[Object(d.jsx)("h4",{children:"Add user"}),Object(d.jsxs)("div",{className:"input-field col s2",children:[Object(d.jsx)("input",{onChange:u,value:a.id,name:"id",id:"id",type:"number",className:"validate",required:!0}),Object(d.jsx)("label",{htmlFor:"id",children:"Id"})]}),Object(d.jsxs)("div",{className:"input-field col s2",children:[Object(d.jsx)("input",{onChange:u,value:a.firstName,name:"firstName",id:"first-name",type:"text",className:"validate",required:!0}),Object(d.jsx)("label",{htmlFor:"first-name",children:"First Name"})]}),Object(d.jsxs)("div",{className:"input-field col s2",children:[Object(d.jsx)("input",{onChange:u,value:a.lastName,name:"lastName",id:"last-name",type:"text",className:"validate",required:!0}),Object(d.jsx)("label",{htmlFor:"last-name",children:"Last Name"})]}),Object(d.jsxs)("div",{className:"input-field col s3",children:[Object(d.jsx)("input",{onChange:u,value:a.email,name:"email",id:"email",type:"email",className:"validate",required:!0}),Object(d.jsx)("label",{htmlFor:"email",children:"Email"})]}),Object(d.jsxs)("div",{className:"input-field col s3",children:[Object(d.jsx)(v.a,{id:"phone",onFocus:function(){b(!0)},onBlur:function(e){0===e.target.value.length&&b(!1)},mask:"(000)000-0000",radix:".",value:a.phone,unmask:!1,onAccept:function(e){i((function(t){return Object(j.a)(Object(j.a)({},t),{},{phone:e})}))}}),Object(d.jsx)("label",{className:o?"active":"",htmlFor:"phone",children:"Phone"})]}),Object(d.jsx)("button",{type:"submit",disabled:h,className:"col s4 waves-effect waves-light btn green lighten-2",children:"Add"}),Object(d.jsx)("button",{type:"reset",className:"col s4 waves-effect waves-light btn black-text transparent",children:"Reset"})]})})},g=c(6),_=c.n(g);var w=function(e){var t=e.data,c=e.setDataForRender,a=Object(s.useState)({}),i=Object(r.a)(a,2),n=i[0],o=i[1],b={submitButton:t.length<50?"col s1 waves-effect waves-light btn green lighten-2":"col s2 waves-effect waves-light btn green lighten-2",resetButton:"col s2 waves-effect waves-light btn black-text transparent",inputId:t.length<50?"input-field col s1":"input-field col s2"},h=function(e){var t=e.target,c=t.name,s=t.value;o((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(f.a)({},c,s))}))};return Object(d.jsxs)("form",{onChange:h,onSubmit:function(e){e.preventDefault();var s={};Object.keys(n).forEach((function(e){""!==n[e]&&(s[e]=n[e])}));var a=Object.keys(s),i=[];if(a.forEach((function(e){t.filter((function(t){return t[e].toString().toLowerCase().includes(n[e].toLowerCase())})).forEach((function(e){return i.push(e)}))})),0===i.length)return _.a.toast({html:"User not found"});var r=i.reduce((function(e,t){return e.includes(t)?e:[].concat(Object(l.a)(e),[t])}),[]);c(r)},onReset:function(){c(t.slice(0,50)),o({})},className:"row",children:[Object(d.jsx)("h4",{children:"Filter"}),Object(d.jsxs)("div",{className:b.inputId,children:[Object(d.jsx)("input",{onChange:h,value:n.id?n.id:"",name:"id",id:"filterId",type:"number",className:"validate"}),Object(d.jsx)("label",{htmlFor:"filterId",children:"Id"})]}),Object(d.jsxs)("div",{className:"input-field col s2",children:[Object(d.jsx)("input",{onChange:h,value:n.firstName?n.firstName:"",name:"firstName",id:"filterFirst-name",type:"text",className:"validate"}),Object(d.jsx)("label",{htmlFor:"filterFirst-name",children:"First Name"})]}),Object(d.jsxs)("div",{className:"input-field col s2",children:[Object(d.jsx)("input",{onChange:h,value:n.lastName?n.lastName:"",name:"lastName",id:"filterLast-name",type:"text",className:"validate"}),Object(d.jsx)("label",{htmlFor:"filterLast-name",children:"Last Name"})]}),Object(d.jsxs)("div",{className:"input-field col s2",children:[Object(d.jsx)("input",{onChange:h,value:n.email?n.email:"",name:"email",id:"filterEmail",type:"email",className:"validate"}),Object(d.jsx)("label",{htmlFor:"filterEmail",children:"Email"})]}),Object(d.jsxs)("div",{className:"input-field col s2",children:[Object(d.jsx)("input",{onChange:h,value:n.phone?n.phone:"",name:"phone",id:"filterPhone",type:"tel",className:"validate"}),Object(d.jsx)("label",{htmlFor:"filterPhone",children:"Phone"})]}),Object(d.jsx)("button",{type:"submit",className:b.submitButton,children:"Find"}),t.length>=50?Object(d.jsx)(d.Fragment,{}):Object(d.jsx)("button",{type:"reset",className:b.resetButton,children:"Show table"})]})};var y=function(){var e=Object(s.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1],i=Object(s.useState)([]),n=Object(r.a)(i,2),o=n[0],j=n[1],b=Object(s.useState)({}),u=Object(r.a)(b,2),f=u[0],v=u[1],g=Object(s.useState)(!1),y=Object(r.a)(g,2),C=y[0],k=y[1],F=Object(s.useState)(!1),R=Object(r.a)(F,2),S=R[0],A=R[1],I=Object(s.useState)(!1),D=Object(r.a)(I,2),E=D[0],M=D[1],T=Object(s.useState)(m),q=Object(r.a)(T,2),P=q[0],V=q[1],L=document.querySelectorAll(".dropdown-trigger");return _.a.Dropdown.init(L,{closeOnClick:!1,constrainWidth:!1}),Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{children:"Test task for \u0410\u044d\u0440\u043e-\u0422\u0440\u0435\u0439\u0434"}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("button",{onClick:function(){a([]),j([]),A(!1),k(!0),O.getData().then((function(e){a(e),j(e.slice(0,50))})).then((function(){})).finally((function(){return k(!1)})).catch((function(e){return _.a.toast({html:e.message})}))},className:"col s6 waves-effect waves-light btn pink lighten-2",children:"Get data"}),Object(d.jsx)("button",{onClick:function(){M(!E)},className:"col s6 waves-effect waves-light btn blue lighten-2",children:E?"Close form":"Add user"})]}),Object(d.jsx)(N,{isVisible:E,onSubmit:function(e){a([e].concat(Object(l.a)(c))),j([e].concat(Object(l.a)(c))),_.a.toast({html:"User added!"})}}),C&&Object(d.jsx)(p,{}),c.length>0&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(w,{setDataForRender:j,data:c}),Object(d.jsx)(h,{columnsRender:P,setColumnsRender:V,setUsersToRender:j,handleRowClick:function(e){S||A(!0),v(e)},usersToRender:o,data:c}),S&&Object(d.jsx)(x,{onClose:A,user:f})]})]})})},C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,28)).then((function(t){var c=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,n=t.getTTFB;c(e),s(e),a(e),i(e),n(e)}))};c(26);n.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root")),C()}},[[27,1,2]]]);
//# sourceMappingURL=main.6e23f3e9.chunk.js.map