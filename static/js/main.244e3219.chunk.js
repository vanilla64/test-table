(this["webpackJsonptest-task-aero-trade"]=this["webpackJsonptest-task-aero-trade"]||[]).push([[0],{18:function(e,t,s){},19:function(e,t,s){},21:function(e,t,s){},22:function(e,t,s){},27:function(e,t,s){"use strict";s.r(t);var c=s(2),a=s.n(c),n=s(11),i=s.n(n),l=(s(18),s(8)),r=s(3),d=(s(19),s(0));var o=function(e){var t=e.user,s=e.index,c=e.type,a=e.columnsRender,n=t.id,i=t.firstName,l=t.lastName,r=t.email,o=t.phone,j=t.gender,b=t.ipAddress,h=t.dollars,u=t.carModel,m=t.carYear,O=t.carVin,p={tableRow:s%2===0?"table__row table__row_type_odd":"table__row table__row_type_even"};return Object(d.jsx)("tr",{className:p.tableRow,children:function(e){switch(e){case"fixed":return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("td",{children:s+1}),Object(d.jsx)("td",{children:n}),Object(d.jsx)("td",{children:i}),Object(d.jsx)("td",{children:l})]});case"scroll":return Object(d.jsxs)(d.Fragment,{children:[a.email.visible&&Object(d.jsx)("td",{className:"table__cell_type_email",children:r}),a.phone.visible&&Object(d.jsx)("td",{className:"table__cell_type_phone",children:o}),a.gender.visible&&Object(d.jsx)("td",{className:"table__cell_type_gender",children:j}),a.ipAddress.visible&&Object(d.jsx)("td",{className:"table__cell_type_ip",children:b}),a.price.visible&&Object(d.jsx)("td",{className:"table__cell_type_price",children:h}),a.carImage.visible&&Object(d.jsx)("td",{className:"table__cell_type_img",children:Object(d.jsx)("img",{className:"table__img",src:a.carImage.src[Math.floor(5*Math.random())],alt:"Car"})}),a.carModel.visible&&Object(d.jsx)("td",{children:u}),a.carYear.visible&&Object(d.jsx)("td",{children:m}),a.carVin.visible&&Object(d.jsx)("td",{children:O})]})}}(c)})},j=s(4);s(21);var b=function(e){e.setValues;var t=e.tableHeaders,s=e.columnsRender,a=e.setColumnsRender,n=Object(c.useState)(s),i=Object(r.a)(n,2),l=i[0],o=i[1];return Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(l)},onChange:function(e){var t=e.target,s=t.name,c=t.checked;o((function(e){return Object(j.a)(Object(j.a)({},e),e[s].visible=c)}))},className:"row",children:[Object(d.jsx)("button",{className:"dropdown-trigger col s4 btn deep-purple lighten-2","data-target":"dropdown1",children:"Select columns"}),Object(d.jsx)("button",{type:"submit",className:"col s4 btn green lighten-2",children:"Submit"}),Object(d.jsx)("ul",{id:"dropdown1",className:"dropdown-content",children:t.map((function(e,c){return Object(d.jsx)("li",{className:"dropdown-content__list-item",children:Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{type:"checkbox",name:t[c],className:"filled-in",defaultChecked:!0}),Object(d.jsx)("span",{className:"dropdown-content__text",children:s[e].title})]})},c)}))})]})};var h=function(){return Object(d.jsx)("div",{className:"preloader-wrapper active",children:Object(d.jsxs)("div",{className:"spinner-layer spinner-red-only",children:[Object(d.jsx)("div",{className:"circle-clipper left",children:Object(d.jsx)("div",{className:"circle"})}),Object(d.jsx)("div",{className:"gap-patch",children:Object(d.jsx)("div",{className:"circle"})}),Object(d.jsx)("div",{className:"circle-clipper right",children:Object(d.jsx)("div",{className:"circle"})})]})})};var u=function(e){var t=e.data,s=e.usersToRender,a=e.setUsersToRender,n=e.handleRowClick,i=e.columnsRender,l=e.setColumnsRender,j=e.isTableLoading,u=e.setIsTableLoading,m=Object(c.useState)(!1),O=Object(r.a)(m,2),p=O[0],f=O[1],x=Object(c.useState)({}),v=Object(r.a)(x,2),g=v[0],N=v[1],_=Object.keys(i);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(b,{setValues:N,columnsRender:i,setColumnsRender:l,tableHeaders:_,values:g}),Object(d.jsxs)("div",{onScroll:function(e){var c=e.target,n=e.target.querySelector("table");if(!(t.length<=s.length)&&!j&&c.scrollTop+c.offsetHeight>=n.offsetHeight){var i=t.slice(s.length,s.length+50),l=s.concat(i);return u(!0),void setTimeout((function(){a(l),u(!1)}),1500)}},className:"row table-container",children:[Object(d.jsxs)("table",{className:"striped table_type_fixed",children:[Object(d.jsx)("thead",{className:"table__header",children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"\u2116"}),Object(d.jsxs)("th",{onClick:function(){var e;if(p)return e=s.map((function(e){return e})).reverse(),a(e),void f(!1);e=s.sort((function(e,t){return e.id>t.id?1:e.id<t.id?-1:0})).map((function(e){return e})),a(e),f(!0)},className:"table__cell_type_id",children:["ID ",Object(d.jsx)("i",{className:"material-icons table__icon",children:p?"arrow_drop_up":"arrow_drop_down"})]}),Object(d.jsx)("th",{children:"First Name"}),Object(d.jsx)("th",{children:"Last Name"})]})}),Object(d.jsx)("tbody",{children:s.map((function(e,t){return Object(d.jsx)(o,{type:"fixed",user:e,index:t,handleRowClick:n},t)}))})]}),Object(d.jsxs)("table",{className:"striped table_type_scroll",children:[Object(d.jsx)("thead",{className:"table__header",children:Object(d.jsxs)("tr",{children:[i.email.visible&&Object(d.jsx)("th",{children:i.email.title}),i.phone.visible&&Object(d.jsx)("th",{children:i.phone.title}),i.gender.visible&&Object(d.jsx)("th",{children:i.gender.title}),i.ipAddress.visible&&Object(d.jsx)("th",{children:i.ipAddress.title}),i.price.visible&&Object(d.jsx)("th",{children:i.price.title}),i.carImage.visible&&Object(d.jsx)("th",{children:i.carImage.title}),i.carModel.visible&&Object(d.jsx)("th",{children:i.carModel.title}),i.carYear.visible&&Object(d.jsx)("th",{children:i.carYear.title}),i.carVin.visible&&Object(d.jsx)("th",{children:i.carVin.title})]})}),Object(d.jsx)("tbody",{children:s.map((function(e,t){return Object(d.jsx)(o,{type:"scroll",columnsRender:i,user:e,index:t,handleRowClick:n},t)}))})]}),j&&Object(d.jsx)("div",{className:"table-container__preloader",children:Object(d.jsx)(h,{})})]}),t.length<=s.length&&Object(d.jsx)("h5",{children:"No data anymore..."})]})},m=s(12),O={email:{visible:!0,title:"Email"},phone:{visible:!0,title:"Phone"},gender:{visible:!0,title:"Gender"},ipAddress:{visible:!0,title:"IP Address"},price:{visible:!0,title:"Price"},carImage:{visible:!0,title:"Car Image",src:[s.p+"static/media/s13-pic.6c852926.jpg",s.p+"static/media/car-pic.d18fd59d.jpg",s.p+"static/media/s15.4e26aa40.jpg",s.p+"static/media/r34.29eff04f.gif",s.p+"static/media/180sx.6972186e.jpg"]},carModel:{visible:!0,title:"Car Model"},carYear:{visible:!0,title:"Car Year"},carVin:{visible:!0,title:"Car VIN"}},p=new function e(t){var s=this;Object(m.a)(this,e),this._initialRequest=function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))},this.getMinData=function(){return fetch(s._url,{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}).then((function(e){return s._initialRequest(e)}))},this.getMaxData=function(){return fetch(s._url,{method:"GET"}).then((function(e){return s._initialRequest(e)}))},this.getData=function(){return fetch(s._url,{method:"GET"}).then((function(e){return s._initialRequest(e)}))},this._url=t}("https://my.api.mockaroo.com/test.json?key=94d3b3a0");s(22);var f=function(e){var t=e.user,s=t.address,c=t.description,a=t.firstName,n=t.lastName,i=s.city,l=s.state,r=s.streetAddress,o=s.zip,j=e.onClose;return Object(d.jsxs)("section",{className:"user-info row z-depth-4",children:[Object(d.jsxs)("div",{className:"col s10",children:[Object(d.jsx)("h4",{children:"User info"}),Object(d.jsxs)("p",{children:["\u0412\u044b\u0431\u0440\u0430\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: ",Object(d.jsx)("b",{children:"".concat(a," ").concat(n)})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("p",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"}),Object(d.jsx)("textarea",{className:"col s8",value:c,readOnly:!0})]}),Object(d.jsxs)("p",{children:["\u0410\u0434\u0440\u0435\u0441 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f: ",Object(d.jsx)("b",{children:r})]}),Object(d.jsxs)("p",{children:["\u0413\u043e\u0440\u043e\u0434: ",Object(d.jsx)("b",{children:i})]}),Object(d.jsxs)("p",{children:["\u041f\u0440\u043e\u0432\u0438\u043d\u0446\u0438\u044f/\u0448\u0442\u0430\u0442: ",Object(d.jsx)("b",{children:l})]}),Object(d.jsxs)("p",{children:["\u0418\u043d\u0434\u0435\u043a\u0441: ",Object(d.jsx)("b",{children:o})]})]}),Object(d.jsx)("button",{onClick:function(){j(!1)},className:"user-info__close-btn col s2 waves-effect waves-light btn blue lighten-2",children:"Close"})]})},x=s(5),v=s(13);var g=function(e){var t=Object(c.useState)({id:"",firstName:"",lastName:"",email:"",phone:""}),s=Object(r.a)(t,2),a=s[0],n=s[1],i=Object(c.useState)(!1),l=Object(r.a)(i,2),o=l[0],b=l[1],h=""===a.id||""===a.firstName||""===a.lastName||""===a.email||""===a.phone,u=function(e){var t=e.target,s=t.name,c=t.value;n((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(x.a)({},s,c))}))};return e.isVisible&&Object(d.jsx)("section",{children:Object(d.jsxs)("form",{onChange:u,onSubmit:function(t){t.preventDefault(),e.onSubmit(a),n({id:"",firstName:"",lastName:"",email:"",phone:""})},onReset:function(){n({id:"",firstName:"",lastName:"",email:"",phone:""})},className:"row",children:[Object(d.jsx)("h4",{children:"Add user"}),Object(d.jsxs)("div",{className:"input-field col s2",children:[Object(d.jsx)("input",{onChange:u,value:a.id,name:"id",id:"id",type:"number",className:"validate",required:!0}),Object(d.jsx)("label",{htmlFor:"id",children:"Id"})]}),Object(d.jsxs)("div",{className:"input-field col s2",children:[Object(d.jsx)("input",{onChange:u,value:a.firstName,name:"firstName",id:"first-name",type:"text",className:"validate",required:!0}),Object(d.jsx)("label",{htmlFor:"first-name",children:"First Name"})]}),Object(d.jsxs)("div",{className:"input-field col s2",children:[Object(d.jsx)("input",{onChange:u,value:a.lastName,name:"lastName",id:"last-name",type:"text",className:"validate",required:!0}),Object(d.jsx)("label",{htmlFor:"last-name",children:"Last Name"})]}),Object(d.jsxs)("div",{className:"input-field col s3",children:[Object(d.jsx)("input",{onChange:u,value:a.email,name:"email",id:"email",type:"email",className:"validate",required:!0}),Object(d.jsx)("label",{htmlFor:"email",children:"Email"})]}),Object(d.jsxs)("div",{className:"input-field col s3",children:[Object(d.jsx)(v.a,{id:"phone",onFocus:function(){b(!0)},onBlur:function(e){0===e.target.value.length&&b(!1)},mask:"(000)000-0000",radix:".",value:a.phone,unmask:!1,onAccept:function(e){n((function(t){return Object(j.a)(Object(j.a)({},t),{},{phone:e})}))}}),Object(d.jsx)("label",{className:o?"active":"",htmlFor:"phone",children:"Phone"})]}),Object(d.jsx)("button",{type:"submit",disabled:h,className:"col s4 waves-effect waves-light btn green lighten-2",children:"Add"}),Object(d.jsx)("button",{type:"reset",className:"col s4 waves-effect waves-light btn black-text transparent",children:"Reset"})]})})},N=s(6),_=s.n(N);var w=function(e){var t=e.data,s=e.setDataForRender,a=Object(c.useState)({}),n=Object(r.a)(a,2),i=n[0],o=n[1],b={submitButton:t.length<50?"col s1 waves-effect waves-light btn green lighten-2":"col s2 waves-effect waves-light btn green lighten-2",resetButton:"col s2 waves-effect waves-light btn black-text transparent",inputId:t.length<50?"input-field col s1":"input-field col s2"},h=function(e){var t=e.target,s=t.name,c=t.value;o((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(x.a)({},s,c))}))};return Object(d.jsxs)("form",{onChange:h,onSubmit:function(e){e.preventDefault();var c={};Object.keys(i).forEach((function(e){""!==i[e]&&(c[e]=i[e])}));var a=Object.keys(c),n=[];if(a.forEach((function(e){t.filter((function(t){return t[e].toString().toLowerCase().includes(i[e].toLowerCase())})).forEach((function(e){return n.push(e)}))})),0===n.length)return _.a.toast({html:"User not found"});var r=n.reduce((function(e,t){return e.includes(t)?e:[].concat(Object(l.a)(e),[t])}),[]);s(r)},onReset:function(){s(t.slice(0,50)),o({})},className:"row",children:[Object(d.jsx)("h4",{children:"Filter"}),Object(d.jsxs)("div",{className:b.inputId,children:[Object(d.jsx)("input",{onChange:h,value:i.id?i.id:"",name:"id",id:"filterId",type:"number",className:"validate"}),Object(d.jsx)("label",{htmlFor:"filterId",children:"Id"})]}),Object(d.jsxs)("div",{className:"input-field col s2",children:[Object(d.jsx)("input",{onChange:h,value:i.firstName?i.firstName:"",name:"firstName",id:"filterFirst-name",type:"text",className:"validate"}),Object(d.jsx)("label",{htmlFor:"filterFirst-name",children:"First Name"})]}),Object(d.jsxs)("div",{className:"input-field col s2",children:[Object(d.jsx)("input",{onChange:h,value:i.lastName?i.lastName:"",name:"lastName",id:"filterLast-name",type:"text",className:"validate"}),Object(d.jsx)("label",{htmlFor:"filterLast-name",children:"Last Name"})]}),Object(d.jsxs)("div",{className:"input-field col s2",children:[Object(d.jsx)("input",{onChange:h,value:i.email?i.email:"",name:"email",id:"filterEmail",type:"email",className:"validate"}),Object(d.jsx)("label",{htmlFor:"filterEmail",children:"Email"})]}),Object(d.jsxs)("div",{className:"input-field col s2",children:[Object(d.jsx)("input",{onChange:h,value:i.phone?i.phone:"",name:"phone",id:"filterPhone",type:"tel",className:"validate"}),Object(d.jsx)("label",{htmlFor:"filterPhone",children:"Phone"})]}),Object(d.jsx)("button",{type:"submit",className:b.submitButton,children:"Find"}),t.length>=50?Object(d.jsx)(d.Fragment,{}):Object(d.jsx)("button",{type:"reset",className:b.resetButton,children:"Show table"})]})};var y=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)([]),i=Object(r.a)(n,2),o=i[0],j=i[1],b=Object(c.useState)({}),m=Object(r.a)(b,2),x=m[0],v=m[1],N=Object(c.useState)(!1),y=Object(r.a)(N,2),C=y[0],F=y[1],R=Object(c.useState)(!1),k=Object(r.a)(R,2),S=k[0],I=k[1],T=Object(c.useState)(!1),A=Object(r.a)(T,2),L=A[0],D=A[1],E=Object(c.useState)(!1),M=Object(r.a)(E,2),q=M[0],P=M[1],V=Object(c.useState)(O),B=Object(r.a)(V,2),Y=B[0],G=B[1],U=document.querySelectorAll(".dropdown-trigger");return _.a.Dropdown.init(U,{closeOnClick:!1,constrainWidth:!1}),Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{children:"Test task for \u0410\u044d\u0440\u043e-\u0422\u0440\u0435\u0439\u0434"}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("button",{onClick:function(){a([]),j([]),D(!1),F(!0),p.getData().then((function(e){a(e),j(e.slice(0,50))})).then((function(){})).finally((function(){return F(!1)})).catch((function(e){return _.a.toast({html:e.message})}))},className:"col s6 waves-effect waves-light btn pink lighten-2",children:"Get data"}),Object(d.jsx)("button",{onClick:function(){P(!q)},className:"col s6 waves-effect waves-light btn blue lighten-2",children:q?"Close form":"Add user"})]}),Object(d.jsx)(g,{isVisible:q,onSubmit:function(e){a([e].concat(Object(l.a)(s))),j([e].concat(Object(l.a)(s))),_.a.toast({html:"User added!"})}}),C&&Object(d.jsx)(h,{}),s.length>0&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(w,{setDataForRender:j,data:s}),Object(d.jsx)(u,{columnsRender:Y,setColumnsRender:G,setUsersToRender:j,handleRowClick:function(e){L||D(!0),v(e)},usersToRender:o,data:s,isTableLoading:S,setIsTableLoading:I}),L&&Object(d.jsx)(f,{onClose:D,user:x})]})]})})},C=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,28)).then((function(t){var s=t.getCLS,c=t.getFID,a=t.getFCP,n=t.getLCP,i=t.getTTFB;s(e),c(e),a(e),n(e),i(e)}))};s(26);i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root")),C()}},[[27,1,2]]]);
//# sourceMappingURL=main.244e3219.chunk.js.map